{
    "name": "PythonScriptJob",
    "email_notifications": {},
    "max_concurrent_runs": 1,
    "tasks": [
        {
            "task_key": "PythonScriptJob",
            "spark_python_task": {
                "python_file": "dbfs:/FileStore/testcases/pythonscript.py"
            },
            "new_cluster": {
                "spark_version": "10.4.x-scala2.12",
                "spark_conf": {
                    "spark.openlineage.transport.type" : "http",
                    "spark.openlineage.transport.endpoint" : "api/v1/lineage",
                    "spark.openlineage.namespace" : "$adb_ws_url_id#default",
                    "spark.openlineage.transport.url" : "https://$FUNNAME.azurewebsites.net",
                    "spark.openlineage.transport.urlParams.code": "{{secrets/purview-to-adb-kv/Ol-Output-Api-Key}}"
                },
                "node_type_id": "Standard_DS3_v2",
                "enable_elastic_disk": true,
                "init_scripts": [
                    {
                        "dbfs": {
                            "destination": "dbfs:/databricks/openlineage/open-lineage-init-script.sh"
                        }
                    }
                ],
                "azure_attributes": {
                    "availability": "ON_DEMAND_AZURE"
                },
                "num_workers": 1
            },
            "max_retries": 1,
            "min_retry_interval_millis": 0,
            "retry_on_timeout": false,
            "timeout_seconds": 3600
        }
    ],
    "format": "MULTI_TASK"
}